{"kind":"code","props":{"deps":{"Jig":{"$jig":"native://Jig"}},"location":"_o1","nonce":1,"origin":"_o1","owner":"mrAn2hau945hVqzmtPbQKUqc2kemGhQsBT","satoshis":0},"src":"class Order extends Jig {\n\n    init(){\n        this.order = [];\n\n    }\n\n    set (order){\n        console.log(order);\n      this.order.push(order);\n    }\n    get(){\n        return this.order;\n    }\n    getbyId(id){\n        for (let i=0 ; i < this.order.length ; i++){\n            if(this.order[i].orderId == id){\n                return this.order[i];\n            }\n        }\n        return res.status(400).json({\n            error: \"NO order found in DB\"\n          });\n           \n           \n        }\n\n        purchase(buy){\n           \n            for (let i=0 ; i < this.order.length ; i++){\n                if(this.order[i].orderId == buy.orderId){\n                    this.order[i].quantity = this.order[i].quantity - buy.quantity;\n                    if(this.order[i].quantity <= 0){\n                        this.order[i].Status = \"Out Of Stock\"\n                    }\n                    return this.order[i];\n                }\n            }\n            \n        }\n\n}","version":"04"}